<div class="grid gap-10 mb-28 items-end">
  <h1 class="text-3xl font-bold mb-6"><%=t ".Perfil" %></h1>

  <%= form_with model: current_user, url: profile_path, method: :patch do |form| %>
    <div class="flex flex-col gap-4">
      <div class="flex flex-col gap-4">
        <%= image_tag current_user.avatar, class: "rounded-full", width: "200" %>
        <%= form.file_field :avatar, direct_upload: true %>
      </div>

      <div class="flex flex-col gap-2">
        <%= form.label :first_name, t(".nome") %>
        <%= form.text_field :first_name, required: true, class: "input input-bordered w-full max-w-xs" %>
      </div>

      <div class="flex flex-col gap-2">
        <%= form.label :last_name, t(".sobrenome") %>
        <%= form.text_field :last_name, required: true, class: "input input-bordered w-full max-w-xs" %>
      </div>

      <div class="flex flex-col">
        <%= form.button t(".Editar"), class: "btn btn-success text-lg max-w-xs" %>
      </div>
    </div>
  <% end %>

  <!--<%= form_with model: current_user, url: profile_email_path do |form| %>
    <fieldset class="flex flex-col gap-4">
      <h2 class="text-2xl font-bold"><%=t ".Mudar Email" %></h2>

      <% if current_user.unconfirmed_email? %>
        <p><%=t ".waiting_confirmation", email: current_user.unconfirmed_email %></p>
      <% end %>

      <% if form.object.errors.any? %>
        <ul>
          <% form.object.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      <% end %>

      <p>Seu email atual é : <%=current_user.email%></p>
      <p>Para mudar seu email, enviaremos uma confirmação para seu novo email.</p>

      <label class="form-control w-full max-w-xs">
        <div class="label">
          <span class="label-text">Novo Email</span>
        </div>
        <%= form.email_field :unconfirmed_email, required: true, class: "input input-bordered w-full max-w-xs" %>
      </label>

      <div class="flex flex-col">
        <%= form.button t(".Editar"), class: "btn btn-success text-lg max-w-xs" %>
      </div>
    </fieldset>
  <% end %>-->

  <%= form_with model: current_user, url: profile_password_path do |form| %>
    <fieldset class="flex flex-col gap-4">
      <h2 class="text-2xl font-bold"><%=t ".Mudar Senha" %></h2>

      <% if form.object.errors.any? %>
        <ul>
          <% form.object.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      <% end %>

      <label class="form-control w-full max-w-xs">
        <div class="label">
          <span class="label-text">Senha Atual</span>
        </div>
        <%= form.password_field :password_challenge, required: true, class: "input input-bordered w-full max-w-xs" %>
      </label>
      <label class="form-control w-full max-w-xs">
        <div class="label">
          <span class="label-text">Nova Senha</span>
        </div>
        <%= form.password_field :password, required: true, class: "input input-bordered w-full max-w-xs" %>
      </label>
      <label class="form-control w-full max-w-xs">
        <div class="label">
          <span class="label-text">Confirmação da Senha</span>
        </div>
        <%= form.password_field :password_confirmation, required: true, class: "input input-bordered w-full max-w-xs" %>
      </label>

      <div class="flex flex-col">
        <%= form.button t(".Editar"), class: "btn btn-success text-lg max-w-xs" %>
      </div>
    </fieldset>
  <% end %>

  <!--<%= form_with url: profile_path, method: :delete do |form| %>
    <fieldset>
      <legend><%=t ".delete_account" %></legend>
      <%= form.button t(".delete_account"), data: { turbo_confirm: t(".confirm") } %>
    </fieldset>
  <% end %>-->
</div>